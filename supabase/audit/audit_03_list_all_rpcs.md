[
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "_should_autocreate_client",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "_trg_call_ensure_client_profile_and_account",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "admin_approve_user",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "calculate_distance_between_users",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_account_on_approval",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_account_on_user_approval",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_account_public",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_auth_user_profile",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_delivery_agent",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_order_safe",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_order_safe",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_order_safe",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_restaurant_public",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_user_profile_public",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "create_user_profile_public",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "delivery_agent_profiles_guard",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "ensure_account",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "ensure_client_profile_and_account",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "ensure_delivery_agent_role_and_profile",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "ensure_financial_account",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "ensure_my_delivery_profile",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "ensure_user_preferences",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "ensure_user_profile_public",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "ensure_user_profile_v2",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "fn_get_restaurant_owner_user_id",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "get_all_users_admin",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "get_user_formatted_address",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "get_user_lat",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "get_user_lon",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "get_user_stats_admin",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "guard_delivery_profile_role",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "handle_new_user",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "handle_new_user_delivery_profile",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "handle_user_email_confirmation",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "insert_user_to_auth",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "is_current_user_admin",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "is_delivery_profile_complete",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "is_restaurant_profile_complete",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "log_auth_user_insert",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "mark_user_login",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "normalize_user_role",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "pre_signup_check_repartidor",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "pre_signup_validation",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "register_client",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "register_delivery_agent",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "register_delivery_agent_atomic",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "register_restaurant",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "register_restaurant_v2",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "register_restaurant_v2",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "repair_user_registration_misclassification",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "rpc_admin_create_settlement",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "rpc_create_settlement",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "rpc_get_user_location",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "set_user_phone_if_missing",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "set_user_phone_if_missing_safe",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "set_user_phone_if_missing_v2",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "trg_debug_log_delivery_agent_profiles",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "trg_debug_log_public_users_after_insert",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "trg_log_public_users_after_insert",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "trg_set_user_phone_from_metadata",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "trg_users_normalize_role",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "update_my_delivery_profile",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "update_my_delivery_profile",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "update_my_delivery_profile",
    "acl_permissions": "postgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "update_user_location",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "update_user_preferences_updated_at",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  },
  {
    "step": "RPC_PERMISSIONS",
    "schema_name": "public",
    "rpc_name": "upsert_delivery_agent_profile",
    "acl_permissions": "=X/postgres\npostgres=X/postgres\nanon=X/postgres\nauthenticated=X/postgres\nservice_role=X/postgres",
    "anon_can_execute": "YES",
    "authenticated_can_execute": "YES"
  }
]